\documentclass[a4paper,12pt]{article}
    \usepackage[acronym,toc]{glossaries}
    \usepackage{graphicx} % For figures later
    \usepackage[utf8]{inputenc}
    \usepackage{mathptmx}
    \usepackage{titling}
    \usepackage{comment}
    \graphicspath{ {../images/} }
    \usepackage{caption}
    % SQL tables
    \usepackage{listings}
    \usepackage{float}
    \usepackage{enumerate}% http://ctan.org/pkg/enumerate
    \usepackage[titletoc]{appendix}
    \usepackage{array}
    \newcolumntype{L}[1]{>{\raggedright\let\newline\\\arraybackslash\hspace{0pt}}m{#1}}
    \newcolumntype{C}[1]{>{\centering\let\newline\\\arraybackslash\hspace{0pt}}m{#1}}
    \newcolumntype{R}[1]{>{\raggedleft\let\newline\\\arraybackslash\hspace{0pt}}m{#1}}
    
    \makeglossaries
    
    \newglossaryentry{mysql}
    {
        name=MySQL,
        description={ is an open-source relational database management system }
    } 
    \newglossaryentry{docker}
    {
        name=Docker,
        description={  Docker provides an additional layer of abstraction and automation of operating-system-level virtualization on Windows, Linux and MacOS }
    }  
    \newglossaryentry{scala}
    {
        name=Scala,
        description={ Scala is a general-purpose programming language providing support for functional programming and a strong static type system }
    }   
	 \newglossaryentry{seimas}
	{
		name=Seimas,
		description={ The Seimas of the Republic of Lithuania, or simply the Seimas is the unicameral parliament of Lithuania. The Seimas constitutes the legislative branch of government in Lithuania, enacting laws and amendments to the Constitution, passing the budget, confirming the Prime Minister and the Government and controlling their activities }
	} 
   \newglossaryentry{lrs_open}
	{
		name=LRS open data,
		description={ Open data of Lietuvos Respublikos Seimas}
	}   
   \newglossaryentry{k-means}
	{
		name=k means,
		description={ }
	} 
   \newglossaryentry{dissimilarity_matrix}
	{
		name=dissimilarity matrix,
		description={ }
	} 



    
    % TODO check this list
    \newacronym{api}{API}{Application programming interface}
    \newacronym{auc}{AUC}{ Area under the curve }
    \newacronym{roc}{ROC}{ Receiver operating characteristic }
    \newacronym{hdd}{HDD}{ Hard disk drive }
    \newacronym{csv}{CSV}{ Comma-separated values}
    \newacronym{ip}{IP}{ Internet protocol address }
    \newacronym{tfidf}{TFIDF}{ Term Frequency Inverse Document Frequency }
    \newacronym{io}{IO}{ Input/Output }
    \newacronym{mds}{MDS}{ Multidimensional scaling }
    \newacronym{lrs}{LRS}{ Parliament of the Republic of Lithuania } 
    \newacronym{xml}{XML}{ PLACEHOLDER }   
    
    \begin{document}
    
    % \title{\large Analysis for\\ \huge Detecting and analysing computer generated comments}
    % \author{Author: Žygimantas Benetis\\Supervisor: Prof. Dr. Tomas Krilavičius}
    % \maketitle
    
    \pagenumbering{roman}
    
    \begin{center}
        \section*{Abstract}
    \end{center}
        
        \addcontentsline{toc}{section}{\numberline{}\kern-1.5emAbstract}%
        Abstract
    \clearpage
    
    \tableofcontents
    
    \clearpage
    
    \printglossary[type=\acronymtype]
    
    \clearpage
    
    \printglossary
    
    \clearpage
    
    \pagenumbering{arabic}
    
    \section{Introduction}
    
    In Republic of Lithuania, public elects their representatives to a parliament in which new legislation is considered. By this election each citizen delegates specifics of legislation process to their representatives so they don't have to actively participate in the process.
	
	However, a problem arises once citizen wants to validate what his representative has been doing. Single term of office NEEDS-CITATION involves thousands of complicated laws and votes. To analyze everything becomes almost an impossible task for a single citizen who is out of the loop. 
	
	To make it easier there are journalists, politologists and other personas who review new legislation, current issues. Delegates themselves also do press conferences, debates where they state their intentions, comment on their actions. However, this requires citizens to trust that journalists and delegates only state truth, don't omit important information and don't have other hidden agendas. Study done about intrinsic honesty showed that the more society is corrupt - the more people lie in a simple dice game. This applies to politicians too and citizens trust in parliament is relatively low.  Therefore, anything that can be done to better observe representatives is useful.

	This thesis goal is to X and Y
    
    \clearpage
    
    \section{Analysis}
   
   	\subsection{Literature analysis}
   	
	There is a decent amount of previous work analyzing voting on roll call data. A huge part of this research is on specific elections that happened in the past.\\	
	
	In \textit{Spatial Models of Parliamentary Voting} \cite{poole_2005} author discusses how voter's positions on specific issues can be captured by his position on one or two dimensions such as liberalism or conservatism. This constraint means there are two spaces - one with few dimensions - basic  or ideological. The other - high dimensional space which represents remaining issues. This breakthrough might suggest \acrlong{mds} as a good performance method for visualization and analysis as majority of data is encoded in few dimensions.\\
	
	
	There is also research done specifically on \gls{lrs} data. One such is \textit{On Structural Analysis of Parliamentarian Voting Data} \cite{DBLP:journals/informaticaLT/KrilaviciusZ08}. In this paper authors discuss about data reduction to \gls{dissimilarity_matrix}, vote encoding, \gls{mds} and its performance on specific dimensions. Authors focus on specific elections and term of office which is different from our goal. However, methods discussed and research results are relevant for this project.\\
	
	In \textit{The new Voteview.com: preserving and continuing Keith Poole’s infrastructure for scholars, students and observers of Congress} \cite{article} paper, authors discuss famous \textit{Voteview.com} website. While website's primary goal is to provide open data access is different from ours - it contains useful information about how specific methods are used, how visualizations work. It also contains visualization which shows how data changed over time - how ideology and party composition changes.
	
	\clearpage
	
	\subsection{Materials and methods}
   	
 	\subsubsection{Lithuania's parliament open data analysis }
 	
 	In this section open data from \acrshort{xml} is reviewed. Only data and properties important to the project are included and commented on. All data is imported into \gls{mysql} database, therefore to demonstrate structure tables are used. Field types are inferred empirically by looking at data, therefore might not be correct in some cases. Moreover, data itself is not consistent through all years of \acrlong{lrs} activity.\\
	
	\noindent
	Table \ref{tab:term_of_office} contains term of office table structure.
	\begin{center}
	 	\begin{tabular}{L{3cm} L{3cm} L{2.2cm} L{3.8cm}}
	 		\multicolumn{4}{c}{}\\ 
	 		\hline
	 		In XML & In database & Type & Comments\\
	 		\hline 
	 		kadencijos\_id & term\_of\_office\_id & int(11) & Unique term of office id \\ 
	 		pavadinimas & name & varchar(255) not null & Name \\
	 		data\_nuo & date\_from & date not null & Date when term of office begins \\ 
	 		data\_iki & date\_to & default null & Date when term of office ends \\
	 		\hline
	 	\end{tabular}
	 	\captionof{table}{Term of office table structure} \label{tab:term_of_office}
	\end{center}

	\hfill
	
	
	\noindent
	Table \ref{tab:sessions} contains parliament sessions table structure.
	\begin{center}
		\begin{tabular}{L{3cm} L{3cm} L{2.2cm} L{3.8cm}}
			\multicolumn{4}{c}{}\\ 
			\hline
			In XML & In database & Type & Comments\\
			\hline 
			sesijos\_id & session\_id & int(11) not null & Unique parliament session id \\
			kadencijos\_id & term\_of\_office\_id & int(11) & Unique term of office id \\ 
			numeris & number & varchar(255) not null & Number \\ 
			pavadinimas & name & varchar(255) not null & Session name \\ 
			data\_nuo & date\_from & date not null & Date when session begins \\
			data\_iki & date\_to & date default null & Date when session ends. Current session doesn't have this value set. \\
			\hline
		\end{tabular}
		\captionof{table}{Parliament session table structure} \label{tab:sessions}
	\end{center}
	
	\hfill
	
	\noindent
	Table \ref{tab:plenary} contains parliament plenaries table structure.
	\begin{center}
		\begin{tabular}{L{3cm} L{3cm} L{2.2cm} L{3.8cm}}
			\multicolumn{4}{c}{}\\ 
			\hline
			In XML & In database & Type & Comments\\
			\hline
			posėdžio\_id & plenary\_id & int(11) not null & Unique plenary id \\
			sesijos\_id & session\_id & int(11) not null & Unique parliament session id \\
			numeris & number & varchar(255) not null & Number \\ 
			tipas & plenary\_type & varchar(255) not null & Plenary type \\ 
			pradžia & time\_start & datetime default null & Plenary starting time \\
			pabaiga & time\_finish & datetime default null & Plenary ending time. Some plenaries are not yet finished and some entries don't include times at all \\
			\hline
		\end{tabular}
		\captionof{table}{Plenary table structure} \label{tab:plenary}
	\end{center}
	
	\hfill

	\noindent
	Table \ref{tab:parliament_member} contains parliament member table structure.
	\begin{center}
		\begin{tabular}{L{2.5cm} L{4cm} L{2.2cm} L{3.3cm}}
			\multicolumn{4}{c}{}\\ 
			\hline
			In XML & In database & Type & Comments\\
			\hline
			asmens\_id & person\_id & int(11) not null & Person id\\
			- & unique\_id & varchar(100) not null & Unique id for person, generated by script\\
			vardas & person\_name & varchar(255) not null & Member name \\
			pavardė & person\_surname & varchar(255) not null & Member surname \\
			lytis & gender & varchar(1) not null & Gender \\
			data\_nuo & date\_from & date not null & Date from inauguration\\
			data\_iki & date\_to & date default null & Date when term ends. Current session doesn't have this value set. \\
			iškėlusi\_partija & faction\_name & text & Faction name \\
			išrinkimo\_būdas & elected\_how & varchar(255) not null & How member was elected\\
			biografijos\_nuoroda & biography\_link & varchar(255) default null & Hyperlink to biography\\
			- & term\_of\_office\_id & int(11) & Unique term of office id \\
			- & term\_of\_office\_specific\_id & int(11) & Specific term id used for computations \\
			- &	faction\_id & int(11) not null & Faction id \\
			\hline
		\end{tabular}
		\captionof{table}{Parliament member table structure} \label{tab:parliament_member}
	\end{center}
	
	\hfill
	
	\noindent
	Table \ref{tab:agenda_question} contains agenda question table structure.
	\begin{center}
		\begin{tabular}{L{3cm} L{4.2cm} L{3cm} L{2.5cm}}
			\multicolumn{4}{c}{}\\ 
			\hline
			In XML & In database & Type & Comments\\
			\hline
			darbotvarkės\_klausimo\_id & agenda\_question\_id & int(11) not null & Agenda question id\\
			- & agenda\_question\_group\_id & varchar(255) not null & Group id\\
			pavadinimas & title & text & Title \\
			laikas\_nuo & time\_from & time default null &  Question start time \\
			laikas\_iki & time\_to & time default null & Question end time \\
			- & datetime\_from & datetime default null & Custom generated date time \\
			- & datetime\_to & datetime default null & Custom generated date time\\
			data & date &  date not null & Date\\
			pavadinimas & raw\_status & varchar(255) not null & Status as taken from XML \\
			- & status & int(5) default null & Status encoded \\
			dokumento\_nuoroda & document\_link & varchar(255) default null & Hyperlink to document\\
			- & speakers & text & Speakers list converted from XML to single text field with separators \\
			numeris & number & varchar(255) not null & Number \\
			- & plenary\_id & int(11) not null & Plenary id\\			                                    
			\hline
		\end{tabular}
		\captionof{table}{Agenda question table structure} \label{tab:agenda_question}
	\end{center}
	
	\hfill
	
	\noindent
	Table \ref{tab:plenary_question} contains plenary question table structure.
	\begin{center}
		\begin{tabular}{L{3cm} L{4.2cm} L{3cm} L{2.5cm}}
			\multicolumn{4}{c}{}\\ 
			\hline
			In XML & In database & Type & Comments\\
			\hline
			darbotvarkės\_klausimo\_id & agenda\_question\_id & int(11) not null & Agenda question id\\
			- & plenary\_question\_group\_id & varchar(255) not null & Group id\\
			pavadinimas & title & text & Title \\
			laikas\_nuo & time\_from & time default null &  Question start time \\
				- & datetime\_from & datetime default null & Custom generated date time \\
			pavadinimas & raw\_status & varchar(255) not null & Status as taken from XML \\
			- & status & int(5) default null & Status encoded \\
			numeris & number & varchar(255) not null & Number \\
			- & plenary\_id & int(11) not null & Plenary id\\				                                    
			\hline
		\end{tabular}
		\captionof{table}{Plenary question table structure} \label{tab:plenary_question}
	\end{center}
	
	\hfill
	
		\noindent
	Table \ref{tab:discussion_events} contains discussion event table structure.
	\begin{center}
		\begin{tabular}{L{3cm} L{4.2cm} L{3cm} L{2.5cm}}
			\multicolumn{4}{c}{}\\ 
			\hline
			In XML & In database & Type & Comments\\
			\hline
			- & agenda\_question\_id & int(11) not null & Agenda question id\\
			- & unique\_id & varchar(255) not null & Custom generated unique id\\
			laikas\_nuo & discusstion\_time\_from & time default null &  Event start time \\
			asmens\_id & person\_id & nt(11) not null & Person id\\
			balsavimo\_id & vote\_id & int(11) not null & Vote id\\
			balsavimo\_tipas & vote\_type & int(5) default null & Vote type \\
			- & plenary\_id & int(11) not null & Plenary id\\				                                    
			\hline
		\end{tabular}
		\captionof{table}{Discussion event table structure} \label{tab:discussion_events}
	\end{center}

	\hfill
	
			\noindent
	Table \ref{tab:vote} contains vote table structure.
	\begin{center}
		\begin{tabular}{L{3cm} L{4.2cm} L{3cm} L{2.5cm}}
			\multicolumn{4}{c}{}\\ 
			\hline
			In XML & In database & Type & Comments\\
			\hline
			- & vote\_person\_id & int(11) not null & Custom generated unique id for vote\\
			balsavimo\_laikas & time & time DEFAULT not null &  Voting time \\
			balsavo & vote\_total & int(11) not null & How many voted\\
			viso & vote\_total\_max & int(11) not null & How many can vote\\
			už & vote\_for & int(11) not null & Voted for\\
			prieš & vote\_against & int(11) not null & Voted against\\
			susilaikė & vote\_abstain & int(11) not null & Voted abstain\\
			komentaras & comment & text & Vote comment\\
			asmens\_id & person\_id & int(11) not null & Person id\\
			asmeyns\_vardas & person\_name &  varchar(255) not null & Person name\\
			asmens\_pavarde & person\_surname &  varchar(255) not null & Person surname\\
			kaip\_balsavo & vote & int(11) not null & Vote itself\\
			- & vote\_person\_id & int(11) not null & Custom generated unique id for vote\\
			frakcija & faction\_acronym & varchar(255) default null & Acronym for faction\\
			balsavimo\_id & vote\_id & int(11) not null & Vote id\\
			balsavimo\_tipas & vote\_type & int(5) default null & Vote type \\
			- & vote\_id & int(11) not null & Vote id\\
			- & plenary\_id & int(11) not null & Plenary id\\				                                    
			\hline
		\end{tabular}
		\captionof{table}{Votes table structure} \label{tab:vote}
	\end{center}
	
	\hfill
	
	\clearpage
	 
 	 
 	\subsection{Problem analysis}
 	
 	Problem can be divided into two pieces:
 	\begin{itemize}
 		\item Research part, including \gls{mds} and \gls{k-means} classification
 		\item Software development
 	\end{itemize}
 	
 	If we consider what is the output of parliaments during their term of office in parliament - it would be their voting outcomes. Let's say we have a set of all votes made by parliament members $V = \{v_1, v_2, ... v_n\}$ where each vote $v_i$ has a tuple of parameters $P = \{timestamp, term\; of\; office, parliament\;member\;id, voting\;outcome,...\}$. Our goal is visualize set $V$ in a way that similar voting patterns of different members are visible. 
 	
 	With \gls{mds} XX
 	
 	With \gls{k-means} XX
 
 	
 	
 	%
 	% Problemos analizė – nagrinėjamoji problema turi būti atskleista moksliniais ar profesiniais terminais, mokslinėmis hipotezėmis ar techninėmis specifikacijomis. Problemos aktualumas turi būti pagrįstas literatūros ir savarankiška analitine apžvalga. Šioje dalyje:
 	% • Pateikiamos teorinės nuostatos, kurios paaiškina darbe nagrinėjamą problemą;
 	% • Įvertinamas pasirinktos problemos teorinio ištyrimo laipsnis;
 	% • Remiantis literatūros šaltiniais, įvertinami skirtingi atskirų autorių problemos traktavimo variantai ir vyraujantys požiūriai;
 	% • Įvertinami siūlomi literatūroje teoriniai problemos %sprendimo būdai (metodai);
 	% • Pagrindžiama pasirinktos problemos tyrimo logika bei metodai.
 	% Teorinė dalis neturi būti aprašomojo (referato) pobūdžio. Darbo autorius privalo pateikti ir pagrįsti savo asmeninę nuomonę, diskutuoti su kitų tyrinėtojų teiginiais apie sprendžiamą problemą.
 	
 	\subsection{Method analysis}
	\subsubsection{MDS}
	\subsubsection{Unsupervised learning: {\textit k-means} clusterization }
    
    Due missing labels of this dataset we are forced to look into unsupervised machine learning methods. \textit{k-means} clusterization \cite{clusterization} is one such method and it fits well with our features. This is due \acrshort{tfidf} which transforms text into vectors be used with \textit{k-means}.
    For distance between comments we can use cosine similarity \cite{cosine_similarity} due its nature of performing better when comparing texts. To compare we can try with Euclidian and Manhattan distances too.
    \subsection{Visualizations}

    
    \clearpage
    
    \section{Software design}
    \subsection{Components of system}
  	\subsubsection{Data flow diagram}
		Data flow diagram
		%        \begin{figure}[H]	
		%    	\centering
		%    	\includegraphics[width=10.5cm]{images/data_flow_diagram.png}
		%    	\caption{Data flow from database to \textit{k-means}}
		%    	\label{fig:data_flow_pipeline}
		%    \end{figure}
		
		%    \vspace{1cm}
  	\subsection{Tools}
    % 	\subsubsection{Programming language: {\textit Scala}}
    
    
    \subsubsection{Database: {\textit MySQL}}
    \subsection{Downloader}
    \subsection{Coordinator}
    \subsection{API server}
    \subsection{Repository}
    \subsection{User interface (Frontend)}
    
    \section{Description of experimental research}
    
    \subsection{Data}
    \subsubsection{Data semantics}
    \subsubsection{Data statistics}
   	\subsection{Experiments}
   	\subsubsection{MDS}
   	\subsubsection{Unsupervised learning: {\textit k-means} clusterization }
   	
   	\subsection{Results}
    
   
    \clearpage
    
    \bibliography{bibtex}{}
    \bibliographystyle{ieeetr}
        
    \clearpage
    
    \pagenumbering{roman}
      
	\appendix
	\section{Appendix}
    
    \end{document}